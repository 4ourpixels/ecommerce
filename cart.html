<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;400;500;600;700&family=Space+Grotesk:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <title>Arap Trap - Cart</title>
        <link
        rel="icon"
        type="image/x-icon"
        sizes="32x32"
        href="./images/favicon.ico"
    />
</head>
<body>
<!---- header ----->

    <div class="container">
        <div class="navbar">
            <div class="logo">
               <a href="index.html"><img src="images/logo.png" width="125px"></a>
            </div>
            <nav>
                <ul id="MenuItems">
                    <li><a href="index.html">Home</li></a>
                    <li><a href="products.html">Products</li></a>

                    <a href="account.html"><li>Account</li></a>
                </ul>
            </nav>
            <a href="cart.html"><img src="images/cart.png" width="30px" height="30px"></a>
            <img src="images/menu.png" class="menu-icon" onclick="menutoggle()">
        </div>
    </div>

<!---- cart items details ----->

<div class="small-container cart-page">
    <table>
        <tr>
            <th>Product</th>
            <th>Quantity</th>
            <th>Subtotal</th>
        </tr>
        <tr>
            <td>
                <div class="cart-info">
                    <img src="images/buy-1.png">
                    <div>
                        <p>Arap Trap T-Shirt</p>
                        <small>Price: $30.00</small>
                        <br>
                        <a href="">Remove</a>
                    </div>
                </div>
            </td>
            <td><input type="number" value="1"></td>
            <td>$60.00</td>
        </tr>
        <tr>
            <td>
                <div class="cart-info">
                    <img src="images/buy-2.png">
                    <div>
                        <p>Arap Trap T-Shirt</p>
                        <small>Price: $35.00</small>
                        <br>
                        <a href="">Remove</a>
                    </div>
                </div>
            </td>
            <td><input type="number" value="2"></td>
            <td>$70.00</td>
        </tr>
        <tr>
            <td>
                <div class="cart-info">
                    <img src="images/buy-3.png">
                    <div>
                        <p>Arap Trap T-Shirt</p>
                        <small>Price: $30.00</small>
                        <br>
                        <a href="">Remove</a>
                    </div>
                </div>
            </td>
            <td><input type="number" value="1"></td>
            <td>$60.00</td>
        </tr>
    </table>

    <div class="total-price">
        <table>
            <tr>
                <td>Subtotal</td>
                <td>$95.00</td>
            </tr>
            <tr>
                <td>Tax</td>
                <td>$15.00</td>
            </tr>
            <tr>
                <td>Total</td>
                <td>$110.00</td>
            </tr>
        </table>
    </div>

    
</div>
<div id="productsContainer"></div>
<!---- footer ----->
    <div class="footer">
        <p class="copyright mb3">Copyright &copy; <a style="color: inherit;" href="https://4ourpixels.github.io/4ourpixels/">4our Pixels</a> 2023</p>
    </div>

<!---- js for toggle menu ----->


<script>
    var MenuItems = document.getElementById("MenuItems");

    MenuItems.style.maxHeight = "0px";

    function menutoggle(){
        if(MenuItems.style.maxHeight == "0px")
        {
            MenuItems.style.maxHeight = "200px";
        }
        else
        {
            MenuItems.style.maxHeight = "0px";
        }
    }
</script>

<script>
    function callbackFunction(products) {
    // Process the JSON data
    displayProducts(products);
    }

    // Dynamically create a <script> element to load the JSONP file
    const script = document.createElement('script');
    script.src = './products.json';
    document.body.appendChild(script);


    function displayProducts(products) {
    const container = document.getElementById('productsContainer');

    products.forEach(product => {
        // Create the necessary HTML elements
        const productElement = document.createElement('div');
        productElement.classList.add('product');
        productElement.classList.add('container');

        const productLinkElement = document.createElement('a');
        productLinkElement.href = product.src;

        const nameElement = document.createElement('h4');
        nameElement.textContent = product.name;

        const thumbnailElement = document.createElement('img');
        thumbnailElement.src = product.thumbnail;
        thumbnailElement.classList = "thumbnail";

        const priceElement = document.createElement('p');
        priceElement.textContent = product.price;

        // Append the elements to the container
        productElement.appendChild(nameElement);
        productElement.appendChild(thumbnailElement);
        productElement.appendChild(priceElement);
        productElement.appendChild(priceElement);
        productElement.appendChild(productLinkElement);
        container.appendChild(productElement);
    });
    }
    fetch('./products.json')
    .then(response => response.json())
    .then(data => {
        // Process the JSON data
        displayProducts(data);
    })
    .catch(error => {
        console.error('Error:', error);
    });

</script>

</body>
</html>